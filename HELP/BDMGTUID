---   BDMGTUID PROGRAM  -  Broadcast Master  Version   1.5.0A   ---
     Copyright (c) 1995-2025 Sam Golob Systems Programming LLC
                     All Rights Reserved


 BDMGTUID -  Extract all Userids from an existing BRODCAST
             Dataset.  Even though TSO Userids are 7 characters,
             8 characters are dumped, in anticipation of someday
             using 8-character ids.  But only 7 characters are
             used, and the 8th character is a blank.


Execution Mode:   Batch Program
--------- ----

Description of Operation:
----------- -- ---------

  BDMGTUID dumps all Userids to an FB-8 sequential output dataset.
These userids are in the order in which they appeared in the
BRODCAST Dataset, and are not necessarily sorted.  Again, LRECL of
the BDMUSOUT DD (the output dataset containing all the Userids) is
8 bytes (the size of one Userid), AND IS NOT 80.  Please do not make
a mistake!                        --- -- --- --

  The BDMUSOUT dataset can be edited with ISPF edit, or with the
UPDATE option of the free REVIEW program (included in the FREELOAD
library of this package).  The short record length is not a problem
for either editor to handle.

  Userids from the BDMUSOUT output dataset are intended to be
reloaded into a new BRODCAST Dataset, using the Bulk Userid Loader
program, BDMULOAD.  See the Help member for BDMULOAD to get
additional information.

  An Optional DD name called EXPORT can be coded for the BDMGTUID
program execution.  This produces an FB-80 (card-image) file, containing
BDMUSADD statements to add all the Userids generated by the BDMGTUID
program.  With this possibility, a subset of the Userids can be added
to an existing BRODCAST Dataset which already has some Userids in it.

  When it comes to Userids, there is always the question of sorting
them, and if they come from more than one BRODCAST Dataset, deleting
possible duplicate Userids.  The Broadcast Master package supplies a
utility for this purpose, called BDMUSORT.  Please see the help
member for BDMUSORT, for further details.


JCL Requirements:
--- ------------

  The BDMGTUID program is a relatively simple program that extracts
all Userids from a BRODCAST Dataset.

  Please note that there is an "optional DD name" called UIDDIAG,
which is described below.  You may feel that it is important for you
to code the UIDDIAG DD name in your JCL.  UIDDIAG contains the
detailed information about all Userids that were dumped to BDMUSOUT.

  Required DD names -
  -------- -- -----

BRODCAST - This is the BRODCAST Dataset whose Userids are being
           dumped.

      Sample JCL definition for the BRODCAST dataset.

  //BRODCAST DD DISP=SHR,DSN=SBGOLOB.NEW.BRODCAST

BDMUSOUT - This is the FB dataset with LRECL=8 that contains the
           dumped Userids from BRODCAST.

      Sample JCL definition for BDMUSOUT DD name.

  //BDMUSOUT DD DISP=(NEW,CATLG,DELETE),
  //            DSN=SBGOLOB.NEW.USEROUT,
  //            DCB=(LRECL=8,BLKSIZE=8000,DSORG=PS),
  //            SPACE=(TRK,(15,15),RLSE),
  //            UNIT=SYSALLDA,VOL=SER=WORK05

SYSPRINT - A SYSOUT DD name which contains the report showing
           how many Userids which have been dumped.

   Report Appearance (SYSPRINT)
   ------ ---------- ----------

 ---   BDMGTUID PROGRAM  -  Broadcast Master  Version   1.5.0A   ---
      Copyright (c) 1995-2025 Sam Golob Systems Programming LLC

 BDMUSOUT DSN = SBGOLOB.NEW.USEROUT
      MEMBER  =
      VOLSER  = WORK05
      DSORG   = PS
      RECFM   = FB
      LRECL   =            8
      BLKSIZE =        8,000

    Total # of Userids Dumped to BDMUSOUT DD Name       3855

  Optional DD names -
  -------- -- -----

UIDDIAG  - A SYSOUT DD name which contains the report showing
           details about all the Userids which have been dumped.

   Report Appearance (UIDDUAG)
   ------ ---------- ---------

 ---   BDMGTUID PROGRAM  -  Broadcast Master  Version   1.5.0A   ---
 Copyright (c) 1995-2025 Sam Golob Systems Programming LLC - All Rights Reserved
         -  BDMGTUID Program  -  Userid Diagnosis Report  -

 BDMUSOUT DSN = SBGOLOB.NEW.USEROUT
      MEMBER  =
      VOLSER  = WORK05
      DSORG   = PS
      RECFM   = FB
      LRECL   =            8
      BLKSIZE =        8,000

    UID Count    Userid   RBA Hex   RBA Dec   Slot #
    ---------    ------   -------   -------   ------

           1     UID0001   000106       262     1
           2     UID0002   000106       262     2
           3     UID0003   000106       262     3
           4     UID0004   000106       262     4
           5     UID0005   000106       262     5
           6     UID0006   000106       262     6
           7     UID0007   000106       262     7
         . . . .
        3851     UID3851   0002B1       689     8
        3852     UID3852   0002B1       689     9
        3853     UID3853   0002B2       690     1
        3854     UID3854   0002B2       690     2
        3855     UID3855   0002B2       690     3

    Total # of Userids Dumped to BDMUSOUT DD Name       3855

EXPORT   -   Dump Userid names in BDMUSADD format:

  //EXPORT   DD DISP=(NEW,CATLG,DELETE),
  //            DSN=SBGOLOB.NEW.USEREXP,
  //            DCB=(LRECL=80,BLKSIZE=8000,DSORG=PS),
  //            SPACE=(TRK,(15,15),RLSE),
  //            UNIT=SYSALLDA,VOL=SER=WORK05

 Sample Output
 ------ ------

  BDMUSADD USR0001
  BDMUSADD USR0002
  BDMUSADD USR0002
  BDMUSADD USR0004
  BDMUSADD USR0005
  BDMUSADD USR0006     and so forth ...


Program Logic
------- -----

  The BDMGTUID program runs through all the Userid records and
copies all of the Userids to the BDMUSOUT output dataset, leaving a
blank in the 8th character.  For the UIDDIAG report, all Userids
which have been dumped, plus information about their RBA number and
slot number, are shown.


Error Handling:
----- --------

  The existence of each required DD name in the JCL is verified
using a TIOT scan at the beginning of BDMGTUID program execution.

 -----------------------------------------------------------------

  In the case that the BDMUSOUT DD name was not coded, the program
produces a notice on both the SYSPRINT and UIDDIAG reports that this
was a diagnostic run only, and no output dataset was produced, as
follows:

  Diagnostic Report Only - No BDMUSOUT was produced.

 -----------------------------------------------------------------

  In the case that the UIDDIAG DD name is missing, then no UIDDIAG
report is produced at all.

 -----------------------------------------------------------------

   Other Cases:
   ----- -----

 -----------------------------------------------------------------

SYSPRINT DD Name is missing:  In this case, there is no SYSPRINT to
   write messages to, so the BDMGTUID program writes the messages to
   the JOB LOG, depending on whether BDMUSOUT DD was correctly coded
   or not.  IF BDMUSOUT was correctly coded, it is not written to,
   but it was allocated.  Therefore it must be deleted before the
   job can be correctly rerun.  JOB LOG messages as follows:

 BDMGU00I     ----------------------------
 BDMGU10E     SYSPRINT DD Name is missing...
 BDMGU00I     ----------------------------
 BDMGU03E     BDMUSOUT not created properly.
 BDMGU02E     Delete BDMUSOUT and rerun job.
 BDMGU00I     ----------------------------

   A Return Code of 16 is issued (because of the severity of not
      having SYSPRINT to write to).

 -----------------------------------------------------------------

BDMUSOUT DD Name is missing:  In this case, the BDMUSOUT DD has not
   been allocated, so therefore it does not have to be deleted.
   So a message is written to SYSPRINT as follows:

 BDMGU01E   ---  BDMUSOUT DD Name Missing  ---

 BDMGU05E   ***  Please correct your JCL   ***

   A Return Code of 12 is issued.

 -----------------------------------------------------------------

BRODCAST DD Name is missing:  It depends on whether BDMUSOUT
   was also coded, and therefore BDMUSOUT will then have to be
   deleted before the job can be correctly rerun.  If BDMUSOUT
   is present and coded, then the following is displayed:

 BDMGU01E   ---  BRODCAST DD Name Missing  ---
 BDMGU03E   ---  BDMUSOUT not created properly..
 BDMGU02E   ---  Delete BDMUSOUT and rerun job.

 BDMGU05E   ***  Please correct your JCL   ***

   If the BDMUSOUT DD is also missing, then the following is
   displayed:

 BDMGU01E   ---  BDMUSOUT DD Name Missing  ---
 BDMGU01E   ---  BRODCAST DD Name Missing  ---

 BDMGU05E   ***  Please correct your JCL   ***

   A Return Code of 12 is issued.


